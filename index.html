<!DOCTYPE html>
<html>
<head>
    <title>ナポリの男たち楽曲ランキング</title>
    <style>
        table {
            border-collapse: collapse;
            width: 50%;
            margin: 0 auto;
        }
        th, td {
            border: 1px solid black;
            padding: 8px;
            text-align: center;
            background-color: aliceblue;
        }
        th {
            background-color: #f2f2f2;
        }

        h1 {
            text-align: center;
        }

        body {
            background-color: floralwhite;
        }
        #questions {
            text-align: center;
        }

        #results {
            text-align: center;
        }

        #restart {
            text-align: center;
        }

        button {
            text-align: center;
            display: inline-block;
            margin: 20px;/* ボタン間の余白を調整 */
            padding: 30px;  /* ボタンの内側の余白を調整 */
            
        }

        
        @keyframes slideRight {
            0% {
                transform: translateX(0);
            }
            100% {
                transform: translateX(-100%); /* 画像を右にスライドさせる */
            }
        }

        .image-container {
            display: flex;
            overflow: hidden; /* コンテナ外の要素を非表示にする */
            background: linear-gradient(to right, mediumaquamarine, snow, salmon);
        }

        .image-container img {
            margin: .1px;
            animation: slideRight 2s linear infinite; /* 10秒かけて無限に右にスライド */
        }

        .image-container img {
            width: 100px; /* 画像の幅を100pxに設定（必要に応じて調整） */
            height: auto; /* 高さを自動調整してアスペクト比を保持 */
        }

        

    </style>
</head>
    
<body>
    <div class="image-container">
        <img src="toucar.png" alt="Image 1">
        <img src="toucar.png" alt="Image 2">
        <img src="toucar.png" alt="Image 3">
        <img src="toucar.png" alt="Image 4">
        <img src="toucar.png" alt="Image 5">
        <img src="toucar.png" alt="Image 6">
        <img src="toucar.png" alt="Image 7">
        <img src="toucar.png" alt="Image 8">
        <img src="toucar.png" alt="Image 9">
        <img src="toucar.png" alt="Image 10">
        <img src="toucar.png" alt="Image 11">
        <img src="toucar.png" alt="Image 12">
        <img src="toucar.png" alt="Image 13">
        <img src="toucar.png" alt="Image 14">
        <img src="toucar.png" alt="Image 15">
        <img src="toucar.png" alt="Image 16">
        <img src="toucar.png" alt="Image 17">
        <!-- 必要なだけ画像を追加 -->
    </div>

    <h1>ナポリの男たち楽曲ランキング</h1>

    <div id="questions">
        <!-- 質問フォーム -->
        <h2>4人の中だと一番誰推し？</h2>
        <button onclick="updateScores(1, '蘭たん')" style="background-color: plum;">蘭たん</button>
        <button onclick="updateScores(1, 'SUGIRU')" style="background-color: khaki;">SUGIRU</button>
        <button onclick="updateScores(1, 'hacchi')" style="background-color: mediumaquamarine;">hacchi</button>
        <button onclick="updateScores(1, 'shu3')" style="background-color: skyblue;">shu3</button>
    </div>

    <div id="results" style="display: none;">
        <!-- 結果テーブル -->
        <h2>順位</h2>
        <table>
            <tr>
                <th>順位</th>
                <th>楽曲</th>
            </tr>
            <tr>
                <td id="rank1"></td>
                <td id="song1"></td>
            </tr>
            <tr>
                <td id="rank2"></td>
                <td id="song2"></td>
            </tr>
            <tr>
                <td id="rank3"></td>
                <td id="song3"></td>
            </tr>
            <tr>
                <td id="rank4"></td>
                <td id="song4"></td>
            </tr>
            <tr>
                <td id="rank5"></td>
                <td id="song5"></td>
            </tr>
            <tr>
                <td id="rank6"></td>
                <td id="song6"></td>
            </tr>
            <tr>
                <td id="rank7"></td>
                <td id="song7"></td>
            </tr>
            <tr>
                <td id="rank8"></td>
                <td id="song8"></td>
            </tr>
            <tr>
                <td id="rank9"></td>
                <td id="song9"></td>
            </tr>
            <tr>
                <td id="rank10"></td>
                <td id="song10"></td>
            </tr>
            <tr>
                <td id="rank11"></td>
                <td id="song11"></td>
            </tr>
            <tr>
                <td id="rank12"></td>
                <td id="song12"></td>
            </tr>
            <tr>
                <td id="rank13"></td>
                <td id="song13"></td>
            </tr>
            <tr>
                <td id="rank14"></td>
                <td id="song14"></td>
            </tr>
            <tr>
                <td id="rank15"></td>
                <td id="song15"></td>
            </tr>
            <tr>
                <td id="rank16"></td>
                <td id="song16"></td>
            </tr>
            <tr>
                <td id="rank17"></td>
                <td id="song17"></td>
            </tr>
            <tr>
                <td id="rank18"></td>
                <td id="song18"></td>
            </tr>
            <tr>
                <td id="rank19"></td>
                <td id="song19"></td>
            </tr>
            <tr>
                <td id="rank20"></td>
                <td id="song20"></td>
            </tr>
            <tr>
                <td id="rank21"></td>
                <td id="song21"></td>
            </tr>
            <tr>
                <td id="rank22"></td>
                <td id="song22"></td>
            </tr>
            <tr>
                <td id="rank23"></td>
                <td id="song23"></td>
            </tr>
            <tr>
                <td id="rank24"></td>
                <td id="song24"></td>
            </tr>
            <tr>
                <td id="rank25"></td>
                <td id="song25"></td>
            </tr>
            <tr>
                <td id="rank26"></td>
                <td id="song26"></td>
            </tr>
            <tr>
                <td id="rank27"></td>
                <td id="song27"></td>
            </tr>
            <tr>
                <td id="rank28"></td>
                <td id="song28"></td>
            </tr>
            <tr>
                <td id="rank29"></td>
                <td id="song29"></td>
            </tr>
            <tr>
                <td id="rank30"></td>
                <td id="song30"></td>
            </tr>
            <tr>
                <td id="rank31"></td>
                <td id="song31"></td>
            </tr>
            <tr>
                <td id="rank32"></td>
                <td id="song32"></td>
            </tr>
            <tr>
                <td id="rank33"></td>
                <td id="song33"></td>
            </tr>
            <tr>
                <td id="rank34"></td>
                <td id="song34"></td>
            </tr>
            <tr>
                <td id="rank35"></td>
                <td id="song35"></td>
            </tr>
            <tr>
                <td id="rank36"></td>
                <td id="song36"></td>
            </tr>
            <tr>
                <td id="rank37"></td>
                <td id="song37"></td>
            </tr>
            <tr>
                <td id="rank38"></td>
                <td id="song38"></td>
            </tr>
            <tr>
                <td id="rank39"></td>
                <td id="song39"></td>
            </tr>
        </table>
    </div>

    <!-- もう一度始めるボタンを追加 -->
    <div id="restart" style="display: none;">
        <button onclick="restartQuiz()" style="background: linear-gradient(to right, mediumaquamarine, snow, salmon)">もう一度始める</button>
    </div>

    <script>
        let scores = Array(39).fill(0); // 13個の楽曲に対応する得点を0で初期化
        let currentQuestion = 1;
        let select1 = ["イイトコロジャナイノー!", "ウーロンチャアァ…"];

        // 各質問に対する楽曲のピックアップスコアを定義
        const q1 = {
            '蘭たん': [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 13, 14, 15, 16, 17, 18, 19, 20, 23, 24, 25, 26, 29, 30, 32, 33, 34, 35, 36 ,37, 39],
            'SUGIRU': [0, 1, 3, 9, 11, 12, 13, 14, 15, 16, 31, 32, 33, 34, 37, 38],
            'hacchi': [0, 3, 8, 11, 17, 18, 19, 20, 30, 31, 33, 34, 36 ,37],
            'shu3': [0, 2, 5, 10, 11, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 33, 34, 35, 36]
        };
        
        const q2 = {
            'イイトコロジャナイノー!': [4, 7, 9, 18, 25, 37],
            'ウーロンチャアァ…': [6, 15]
        };

        const q3 = {
            'イイトコロジャナイノー!': [10, 14, 16, 19, 20],
            'ウーロンチャアァ…': [0, 4, 5, 8, 13, 17, 23, 24, 31]
        };

        const q4 = {
            'イイトコロジャナイノー!': [5, 7, 8, 13, 18, 21, 22, 24, 29, 31, 32, 35, 36, 37, 38, 39],
            'ウーロンチャアァ…': [4, 6, 9, 10, 11, 12, 14, 15, 16, 19, 23, 25, 26, 27, 28, 30, 33, 34]
        };

        const q5 = {
            'イイトコロジャナイノー!': [10, 16, 17, 18, 20, 34, 35, 36, 37, 38],
            'ウーロンチャアァ…': [1, 2, 3, 7, 8, 13, 24, 29, 31, 32]
        };

        function updateScores(question, answer) {
            const scoresToAdd = getScoresToAdd(question, answer);

            for (let i = 0; i < scoresToAdd.length; i++) {
                scores[i] += scoresToAdd[i];
            }

            // 順位を計算
            let rankedIndices = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36 ,37, 38, 39].sort((a, b) => scores[b] - scores[a]);

            // 同点の場合に高い順位に合わせる
            let currentRank = 1;
            let prevScore = scores[rankedIndices[0]];
            for (let i = 0; i < 39; i++) {
                let index = rankedIndices[i];
                if (scores[index] === prevScore) {
                    document.getElementById(`rank${i + 1}`).textContent = currentRank;
                } else {
                    currentRank = i + 1;
                    prevScore = scores[index];
                    document.getElementById(`rank${i + 1}`).textContent = currentRank;
                }
                // 楽曲名を表示
                let songName = "";
                if (index === 0) {
                    songName = "涙塩分マルゲリータ";
                } else if (index === 1) {
                    songName = "好きやねん(さだ民生)";
                } else if (index === 2) {
                    songName = "ローション大蛇(さだ民生)";
                } else if (index === 3) {
                    songName = "白ニット センター分け(さだ民生)";
                } else if (index === 4) {
                    songName = "解放 ～リベレーション～";
                } else if (index === 5) {
                    songName = "高槻ワンサイドラバー";
                } else if (index === 6) {
                    songName = "魔法少女ミンキーピンキーの歌";
                } else if (index === 7) {
                    songName = "僕も(わたしも)";
                } else if (index === 8) {
                    songName = "老境";
                } else if (index === 9) {
                    songName = "A-FLOW";
                } else if (index === 10) {
                    songName = "Spicy Addition";
                } else if (index === 11) {
                    songName = "あの星を求めて";
                } else if (index === 12) {
                    songName = "おじさんの歌";
                } else if (index === 13) {
                    songName = "はつ桜";
                } else if (index === 14) {
                    songName = "真相 ～janseung～";
                } else if (index === 15) {
                    songName = "ウエストスター☆ピーターパン";
                } else if (index === 16) {
                    songName = "O,Такацуки";
                }  else if (index === 17) {
                    songName = "ワン・エイト・ディスコ";
                } else if (index === 18) {
                    songName = "CHANGE MY MIND";
                } else if (index === 19) {
                    songName = "hacchi likes apples.";
                } else if (index === 20) {
                    songName = "ハッチャンサンバ";
                } else if (index === 21) {
                    songName = "ティニス";
                } else if (index === 22) {
                    songName = "Dream Fire";
                } else if (index === 23) {
                    songName = "ヌメ乗りジョニー";
                } else if (index === 24) {
                    songName = "Dearパパ ～Bad Description～";
                } else if (index === 25) {
                    songName = "FIGHT！デバッグ☆シュピキュア";
                } else if (index === 26) {
                    songName = "本能デトックス";
                } else if (index === 27) {
                    songName = "PARADISE NIGHT";
                } else if (index === 28) {
                    songName = "shu3やめへんでの歌";
                } else if (index === 29) {
                    songName = "高槻の風のように…";
                } else if (index === 30) {
                    songName = "RING-TONE";
                } else if (index === 31) {
                    songName = "横浜哀恋慕";
                } else if (index === 32) {
                    songName = "ナポ男再結成の歌(仮)";
                } else if (index === 33) {
                    songName = "KAKUGARI RAP BATTLE";
                } else if (index === 34) {
                    songName = "OH! SUN POWER3";
                } else if (index === 35) {
                    songName = "嗚呼、美しきナポンヌ";
                } else if (index === 36) {
                    songName = "王の憂い";
                } else if (index === 37) {
                    songName = "鳥になりたい";
                } else if (index === 38) {
                    songName = "ナポンヌのムスカリ";
                } else if (index === 39) {
                    songName = "スリーピングシティ";
                } 
                document.getElementById(`song${i + 1}`).textContent = songName;
            }

            // 次の質問を表示または結果を表示
            if (currentQuestion < 5) {
                currentQuestion++;
                // 質問2の文言を変更
                let questionText = "";
                if (currentQuestion === 2) {
                    questionText = "自分を変えたいですか？";
                    currentChoices = select1;
                } else if (currentQuestion === 3) {
                    questionText = "海外の音楽は好きですか？";
                    currentChoices = select1; // 質問3に対する選択肢を設定
                } else if (currentQuestion === 4) {
                    questionText = "エモくなりたい？";
                    currentChoices = select1; // 質問4に対する選択肢を設定
                } else if (currentQuestion === 5) {
                    questionText = "踊りたい気分ですか？";
                    currentChoices = select1; // 質問5に対する選択肢を設定
                }
                document.getElementById('questions').innerHTML = `
                    <h2>${questionText}</h2>
                    ${generateButtons(currentChoices)}
                `;
            } else {
                // 結果を表示
                document.getElementById('questions').style.display = 'none';
                document.getElementById('results').style.display = 'block';
                
                // ここに「もう一度始める」ボタンを表示するコードを追加
                document.getElementById('restart').style.display = 'block';
            }
        }

        // 選択肢に基づいてボタンを生成する関数
        function generateButtons(choices) {
            let buttonsHTML = '';
            for (let choice of choices) {
                buttonsHTML += `<button onclick="updateScores(${currentQuestion}, '${choice}')" style="background: linear-gradient(to right, mediumaquamarine, snow, salmon)">${choice}</button>`;
            }
            return buttonsHTML;
        }

        function getScoresToAdd(question, answer) {
            let scoresToAdd = Array(39).fill(0);

            // 対応する質問の楽曲ピックアップスコアを取得
            let pickupScores = {};
            if (question === 1) {
                pickupScores = q1;
            } else if (question === 2) {
                pickupScores = q2;
            } else if (question === 3) {
                pickupScores = q3;
            } else if (question === 4) {
                pickupScores = q4;
            } else if (question === 5) {
                pickupScores = q5;
            }

            // スコアを加算
            for (let i = 0; i < pickupScores[answer].length; i++) {
                scoresToAdd[pickupScores[answer][i]] += 1;
            }

            return scoresToAdd;
        }

        function restartQuiz() {
            // 得点をリセット
            scores = Array(39).fill(0);

            // 質問を最初の状態にリセット
            currentQuestion = 1;
            document.getElementById('questions').style.display = 'block';
            document.getElementById('results').style.display = 'none';

            // 最初の質問を表示
            document.getElementById('questions').innerHTML = `
                <h2>4人の中だと一番誰推し？</h2>
                <button onclick="updateScores(1, '蘭たん')" style="background-color: plum;">蘭たん</button>
                <button onclick="updateScores(1, 'SUGIRU')" style="background-color: khaki;">SUGIRU</button>
                <button onclick="updateScores(1, 'hacchi')" style="background-color: mediumaquamarine;">hacchi</button>
                <button onclick="updateScores(1, 'shu3')" style="background-color: skyblue;">shu3</button>
            `;

            // 「もう一度始める」ボタンを非表示にし、質問フォームを表示
            document.getElementById('restart').style.display = 'none';
        }

    </script>
</body>
</html>
